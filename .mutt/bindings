# vim: ft=muttrc
bind attach,index,pager g noop  # https://neomutt.org/guide/configuration.html#bind-warnings
                                # same as 'unbind index g'
bind index i noop
#bind index,pager,browser . noop
bind attach,index gg first-entry
bind attach,index G last-entry
bind index,pager N search-opposite
bind pager i exit
#bind pager q toggle-quoted
bind index <space>  collapse-thread
# read entire thread of the current msg; (think this uses notmuch index):
bind index,pager + entire-thread
# note this shadows the default bind that toggles between full-and-slimmed-down headers:
#bind pager,browser,attach,alias h exit
bind pager q exit
bind pager / search
bind pager j next-line
bind pager k previous-line
bind pager gg top
bind pager G bottom
bind index,pager \# noop
bind index,pager \& noop
bind index,pager R group-reply
# View attachments properly:
bind attach <return> view-mailcap
bind pager <up> previous-line
bind pager <down> next-line
bind pager K previous-undeleted
bind pager J next-undeleted
bind index K previous-unread
bind index J next-unread
# Ctrl-n, Ctrl-p to select next, previous folder.
# Ctrl-o to open selected folder.
bind index,pager \CP sidebar-prev
bind index,pager \CN sidebar-next
bind index,pager \CO sidebar-open
#bind index,pager <down>   sidebar-next
#bind index,pager <up>     sidebar-prev
#bind index,pager <right>  sidebar-open
bind index,pager b sidebar-toggle-visible
# remail a message to another user: TODO: it seems to send actual bounce, what's the point of this?
bind  index          B   bounce-message

bind index,pager ,D delete-thread
# switch between normal and virtual mailboxes on sidebar:
bind index,pager ,v sidebar-toggle-virtual
# modify (notmuch) tags:
bind index,pager ,t modify-labels
# generate virtual folder from query (note we also have similar function in macros):
bind index,pager \eX vfolder-from-query

#
# to reply or compose offline, postpone:
bind compose p postpone-message
# to edit the postponed drafts locally, recall them:
bind index p recall-message
bind editor <Tab> complete-query   # complete e.g. abook alias query
bind editor ^T    complete

# some vi-like bindings lifted from https://wiki.archlinux.org/title/Mutt#Key_bindings :
# make sure to check out other vi-inspired bindings config (whole thread is deece): https://github.com/neomutt/neomutt/issues/56#issuecomment-250780838
# ################################################
bind pager                l            view-attachments
bind attach,compose                l            view-attach
bind browser,alias            l            select-entry

# default binding for help is ?
bind index,pager,attach            <F1>            help

# note this shadows the default limit/filter:
#bind index                l            display-message
# note this shadows a macro binding:
#bind index                /            search
# default binding for limit is l; default binding for ? is bindings & macros cheatsheet (i.e. help):
#bind index                ?            limit

# default binding for header view (toggle-weed) is h;
# note this shadows the default top-page binding which is fine as in pager we don't
# need more than gg anyways:
bind pager,attach                H            display-toggle-weed

# ctrl+{u,d} would be nice, but they appear to be 'delete' & 'undelete' by default;
# think we're better off using L,M,H from vim:
#bind attach,index,pager         \CD             next-page
#bind attach,index,pager         \CU             previous-page

# some othe keybind examples:
#macro index,pager S \
#    "<save-message>=INBOX.Spam<enter>" "Spam"
#macro index,pager I \
#    "<save-message>=INBOX<enter>" "Inbox"
#macro index gi \
#    "<change-folder>=INBOX<enter>" "Go to inbox"
#macro index gt \
#    "<change-folder>=INBOX.Sent<enter>" "Go to sent Mail"
#macro index gd \
#    "<change-folder>=INBOX.Drafts<enter>" "Go to drafts"
#macro index gs \
#    "<change-folder>=INBOX.Spam<enter>" "Go to Spam"
